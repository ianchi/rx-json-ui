{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "file:/home/ianchi/dev/ianchi_wrt/lede/luci-ng/luci2-ui-core/src/src/app/widgets/base.meta.json",

    "definitions": {
        "bindLabel": {
            "type": "string",
            "pattern": "[a-z][a-zA-Z]*=?"
        }
    },

    "title": "Widget definition",

    "type": "object",
    "properties": {
        "type": {
            "type": "string",
            "title": "Type of widget"
        },
        "context": {
            "type": "object",
            "title": "Variables to add to the context of this widget and its children",
            "propertyNames": { "$ref": "#/definitions/bindLabel" }
        },
        "options": {
            "type": "object",
            "title": "Widget specific options",
            "propertyNames": { "$ref": "#/definitions/bindLabel" }
        },

        "content": {
            "type": ["object", "array"],
            "title": "Child content of this widget",

            "oneOf": [
                { "$ref": "#" },
                {
                    "type": "array",
                    "items": { "$ref": "#" },
                    "minItems": 1
                }
            ]
        }
    },
    "required": ["type"],

    "oneOf": [
      { "$ref": "common/tabs/tabs.json#" },
      { "$ref": "common/table/table.json#" },
      { "$ref": "formfield/form/form.json#" },
      { "$ref": "formfield/input/input.json#" },
      { "$ref": "formfield/button/button.json#" }
    ]
}
